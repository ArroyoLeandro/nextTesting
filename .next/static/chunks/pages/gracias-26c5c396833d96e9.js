(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{5278:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gracias",function(){return n(1778)}])},1778:function(e,t,n){"use strict";n.r(t);var a=n(4051),s=n.n(a),r=n(5893),c=n(573),o=n(7294),i=n(1163),l=n(818),u=n(2298),p=n(9669),d=n.n(p),x=n(1955);function h(e,t,n,a,s,r,c){try{var o=e[r](c),i=o.value}catch(l){return void n(l)}o.done?t(i):Promise.resolve(i).then(a,s)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function c(e){h(r,a,s,c,o,"next",e)}function o(e){h(r,a,s,c,o,"throw",e)}c(void 0)}))}}t.default=function(){(0,i.useRouter)();var e=(0,o.useState)(0),t=e[0],n=e[1],a=(0,o.useState)(null),p=a[0],h=a[1];(0,o.useEffect)((function(){(0,l.eB)().then((function(e){h(e.emisionId);var t=(0,u.default)(new Date,"yyyy-MM-dd"),a=new Date(e.desde).toISOString().slice(0,10),s=m(t.split(" ")[0].split("-"),a.split(" ")[0].split("-"));n(s),v(e.emisionId)}))}),[]);var v=function(){var e=f(s().mark((function e(t){var n,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=x.Z.get("location").toUpperCase(),e.next=4,d().get("https://apieurop-assistance.byflexy.com/api/v2/travel/b2c/voucher/enviar?emisionId="+t+"&codigoUsuario="+n);case 4:a=e.sent,r=a.data[0],console.log("res enviar: ",r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e,t){var n=new Date(e[0],e[1]-1,e[2]),a=new Date(t[0],t[1]-1,t[2]),s=a>n?a-n:n-a;return Math.floor(s/864e5)},w=function(){var e=f(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("https://apieurop-assistance.byflexy.com/api/v2/travel/b2c/voucher/download?emisionId="+p);case 3:t=e.sent,n=t.data[0],console.log("res enviar: ",n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{banner:"gracias"}),(0,r.jsx)("section",{className:"w-full bg-gris-claro text-principal",children:(0,r.jsxs)("div",{className:"max-w-screen-md mx-auto flex flex-col gap-6 lg:gap-8 items-center text-center px-6 2xl:px-0 py-14",children:[(0,r.jsxs)("header",{children:[(0,r.jsxs)("h3",{className:"text-3xl sm:text-4xl font-extrabold",children:["Estas a ",t&&t," d\xedas ",(0,r.jsx)("span",{className:"whitespace-nowrap",children:"de tu viaje!"})]}),(0,r.jsxs)("h2",{className:"text-3xl sm:text-4xl font-extrabold",children:["Con ",(0,r.jsx)("span",{className:"whitespace-nowrap",children:"Europ Assistance"})," viaj\xe1s tranquilo."]})]}),(0,r.jsxs)("p",{className:"text-xl",children:["Record\xe1 llevar con vos el voucher de tu viaje, que seguramente lo ten\xe9s en tu casilla de e-mail. Sino en todo caso pod\xe9s",(0,r.jsx)("button",{onClick:function(){w()},className:"pl-2 whitespace-nowrap font-extrabold",children:" descargar el voucher ac\xe1"})]}),(0,r.jsx)("p",{className:"text-xl",children:"Por cualquier duda o consulta escribinos por mail o hablamos por Whatsapp."}),(0,r.jsxs)("footer",{className:"flex gap-4",children:[(0,r.jsx)("button",{className:"py-5 px-6 btn btn-celeste lg:w-56",children:"Escribir mail"}),(0,r.jsx)("button",{className:"py-5 px-6 btn btn-amarillo lg:w-56",children:"Chat por Whatsapp"})]})]})})]})}}},function(e){e.O(0,[253,573,774,888,179],(function(){return t=5278,e(e.s=t);var t}));var t=e.O();_N_E=t}]);