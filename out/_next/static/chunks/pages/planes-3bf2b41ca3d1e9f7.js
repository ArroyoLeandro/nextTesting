(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{9406:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/planes",function(){return n(8916)}])},8916:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(4051),a=n.n(r),o=n(5893),s=(n(7613),n(573)),l=(n(4045),n(1163)),i=n(7294),c=n(5154),u=n(1955),d=n(3935);function p(e,t){var n=e.children,r=e.initialValue,a=void 0!==r&&r,s=(0,i.useState)(a),l=s[0],c=s[1],u=(0,i.useCallback)((function(){return c(!1)}),[]);(0,i.useImperativeHandle)(t,(function(){return{openModal:function(){return c(!0)},closeModal:u}}),[u]);var p=(0,i.useCallback)((function(e){27===e.keyCode&&u()}),[u]);(0,i.useEffect)((function(){return l&&(document.addEventListener("keydown",p,!1),document.body.classList.add("overflow-hidden","pr-4")),function(){document.removeEventListener("keydown",p,!1),document.body.classList.remove("overflow-hidden","pr-4")}}),[p,l]);var x=(0,i.useRef)(),m=(0,i.useRef)(),f=(0,i.useCallback)((function(e){9===e.keyCode&&e.target===x.current&&m.current.focus()}),[]);return(0,i.useEffect)((function(){return l&&document.addEventListener("keyup",f,!1),function(){document.removeEventListener("keyup",f,!1)}}),[f,l]),l?d.createPortal((0,o.jsx)(i.Fragment,{children:(0,o.jsx)("div",{role:"dialog","aria-modal":"true",className:"fixed flex items-center justify-center w-full h-full p-6 bg-black top-0 left-0 bg-opacity-20 z-50",onClick:u,children:(0,o.jsxs)("div",{"aria-label":"Ventana Modal",className:"relative flex max-h-full",onClick:function(e){return e.stopPropagation()},children:[(0,o.jsx)("input",{ref:x,autoFocus:!0,readOnly:!0,"aria-label":"Ventana modal - use Escape para salir",className:"bg-transparent absolute w-1 h-1 transparent border-none outline-none focus:outline-none"}),n,(0,o.jsx)("button",{ref:m,"aria-label":"Cerrar ventana",onClick:u,className:"absolute top-0 right-0 m-2 z-20 flex items-center justify-center w-7 h-7 bg-white rounded-full ",children:(0,o.jsx)("span",{className:"icon-mas text-2xl text-turquesa rotate-45 leading-3"})})]})})}),document.body):null}var x=(0,i.forwardRef)(p);function m(e){var t,n,r;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("article",{className:"w-full max-w-screen-md max-h-full flex flex-col text-principal bg-white rounded-lg shadow-xl overflow-hidden",children:[(0,o.jsxs)("header",{className:"relative w-full flex gap-8 md:gap-12 p-6 md:p-10 bg-turquesa ",children:[(0,o.jsx)("span",{className:"hidden md:block","aria-hidden":"true",children:(0,o.jsx)("img",{src:"/assets/images/ea.png",alt:"Europ Asistance",className:"w-28"})}),(0,o.jsxs)("div",{className:"flex flex-col gap-2 md:gap-4",children:[(0,o.jsx)("h2",{className:"text-3xl md:text-5xl font-bold leading-7 md:leading-10",children:null===(t=e.producto)||void 0===t?void 0:t.producto.nombreB2C}),(0,o.jsxs)("p",{className:"md:text-xl",children:["Cobertura m\xe9dica: ",(0,o.jsx)("span",{className:"whitespace-wrap",children:null===(n=e.producto)||void 0===n?void 0:n.producto.descripcion})]})]})]}),(0,o.jsx)("div",{className:"flex-1 bg-white p-6 md:p-10 flex flex-col md:flex-row gap-6 max-h-full overflow-auto",children:(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h3",{className:"font-bold pb-2 mb-4 border-b border-gris-medio",children:"Prestaciones"}),(0,o.jsx)("ul",{className:"text-sm mt-2 pb-6 leading-4",children:null===(r=e.producto)||void 0===r?void 0:r.producto.prestaciones.map((function(e,t){return(0,o.jsxs)("li",{className:"flex gap-2 pb-2",children:[(0,o.jsx)("span",{className:"flex-none icon-done text-[8px] w-5 h-5 -mt-1 flex justify-center items-center rounded-full bg-whatsapp text-white","aria-hidden":"true"}),e.labelNombre," ","por monto"==e.tipo.toLowerCase()?"($"+(0,c.ao)(e.montoMenores)+")":""]},t)}))})]})})]})})}var f=n(9669),h=n.n(f),b=n(8021),g=n(7702);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,a,o,s){try{var l=e[o](s),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){w(o,r,a,s,l,"next",e)}function l(e){w(o,r,a,s,l,"throw",e)}s(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(i){l=!0,a=i}finally{try{s||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){e.initialLocation;var t=e.cotizacion,n=(0,l.useRouter)(),r=(0,i.useState)(null),d=r[0],p=r[1],f=(0,i.useState)(null),v=f[0],w=f[1],y=(0,i.useState)(!1),C=(y[0],y[1]),k=(0,b.ZR)(),S=k.config,E=k.setConfig,L=N((0,c._)("etiquetas",""),2),A=L[0],P=L[1],_=(0,i.useState)("LAT"),O=_[0],I=_[1];(0,i.useEffect)((function(){localStorage.getItem("etiquetas")?E(A):D(),I(u.Z.get("location")),z(t)}),[]);var M=(0,i.useRef)(null),R=(0,i.useRef)(null),q=(0,g.Z)("(max-width: 640px)"),D=function(){var e=j(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="LAT",void 0!=u.Z.get("location")&&(t=u.Z.get("location")),e.next=5,h().get("https://apieurop-assistance.byflexy.com/api/v2/travel/b2c/config?codigo="+t);case 5:n=e.sent,r=n.data[0],E(r),P(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=j(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,h().get("https://apieurop-assistance.byflexy.com/api/v2/travel/b2c/search?cotizacionId="+t);case 4:n=e.sent,r=n.data[0],p(r.productos),C(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{banner:"planes-seleccionados",showCotizar:q}),(0,o.jsxs)("section",{className:"w-full bg-gris-claro",children:[(0,o.jsx)("h1",{className:"max-w-screen-xl mx-auto text-2xl font-extrabold text-gris-oscuro pt-8 lg:pt-14 pb-6 px-6 2xl:px-0",children:"PLANES PARA VOS"}),(0,o.jsx)("div",{className:"max-w-screen-xl mx-auto flex flex-col sm:flex-row sm:flex-wrap justify-center gap-6 lg:gap-8 px-6 2xl:px-0 pb-14",children:null!=d?d.length>0?(d.sort((function(e,t){return t.precio-e.precio})),d.map((function(e,t){return(0,o.jsxs)("article",{className:"sm:min-w-[250px] sm:max-w-[300px] flex-1 flex flex-col items-center rounded-lg bg-white text-principal shadow-3xl overflow-hidden ".concat(14!=e.producto.id&&15!=e.producto.id?"sm:mt-14":""," "),children:[15==e.producto.id?(0,o.jsx)("h2",{className:"w-full py-4 px-2 text-white font-bold text-center bg-fucsia",children:"PLAN M\xc1S VENDIDO"}):null,14==e.producto.id?(0,o.jsx)("h2",{className:"w-full py-4 px-2 text-white font-bold text-center bg-turquesa",children:"PLAN RECOMENDADO"}):null,e.precioSinPromocion==e.precio?(0,o.jsx)("p",{className:"w-full py-1 px-2 text-white font-bold text-center bg-amarillo",children:"OFERTA"}):(0,o.jsx)("span",{className:"hidden sm:block h-8"}),(0,o.jsx)("h3",{className:"px-2 pt-6 text-2xl font-bold text-center",children:e.producto.nombreB2C}),(0,o.jsx)("p",{className:"px-2 text-sm font-light text-center truncate max-w-full",children:e.producto.descripcion}),e.precioSinPromocion==e.precio?(0,o.jsxs)("p",{className:"px-2 pt-6 text-gris-medio line-through",children:[e.monedaLocalSimbolo," ",(0,c.ao)((Number(e.tipoDeCambioMonto.replace(",","."))*e.precioSinPromocion).toFixed(2))," "]}):(0,o.jsx)("span",{className:"hidden sm:block pt-6 h-6"}),(0,o.jsxs)("h4",{className:"px-2 flex gap-1 items-end",children:[(0,o.jsx)("span",{className:"text-md",children:e.monedaLocalSimbolo}),(0,o.jsx)("span",{className:"text-5xl font-extrabold ",children:(0,c.ao)(e.precioEnPesos)}),(0,o.jsx)("span",{className:"text-sm font-bold self-center pb-2",children:"*"})]}),(0,o.jsxs)("p",{className:"px-2 text-2xl pt-1",children:[e.monedaSimbolo," ",e.precioSinPromocion]}),(0,o.jsx)("button",{className:"my-5 p-3 w-44 rounded-lg text-white bg-principal shadow-sm",onClick:function(){!function(e){localStorage.setItem("planContratar",JSON.stringify(e)),n.push({pathname:"/contratar"})}(e)},children:"Contratar"}),(0,o.jsxs)("details",{className:"w-full group flex-1",open:!q,children:[(0,o.jsxs)("summary",{className:"group flex flex-col items-center sm:items-start px-4 py-2 text-sm cursor-pointer sm:cursor-text sm:pointer-events-none focus:outline-none",children:[(0,o.jsx)("span",{className:"border-b-2 border-transparent group-focus:border-principal",children:"Beneficios por persona"}),(0,o.jsx)("span",{className:"icon-chevron text-sm sm:hidden transition-all ease-linear rotate-180 group-open:rotate-0"})]}),(0,o.jsx)("ul",{className:"px-4 text-sm mb-6 leading-4 transition-opacity duration-200 opacity-0 group-open:opacity-100",children:(r=e.producto.prestaciones,r.map((function(e,t){return t<5?(0,o.jsxs)("li",{className:"flex gap-1 pb-2",children:[(0,o.jsx)("span",{className:"flex-none icon-done text-[8px] w-5 h-5 -mt-1 flex justify-center items-center rounded-full bg-whatsapp text-white","aria-hidden":"true"}),e.labelNombre," ","por monto"==e.tipo.toLowerCase()?"($"+(0,c.ao)(e.montoMenores)+")":""]},t):null})))})]}),(0,o.jsx)("button",{ref:R,onClick:function(){M.current.openModal(),w(e)},className:"text-sm text-principal hover:text-secundario focus:text-secundario focus:outline-none border-b-2 border-principal",children:"Ver detalle de cobertura"}),(0,o.jsxs)("a",{href:null===S||void 0===S?void 0:S.etiquetas.Url_CondicionesGenerales,target:"_blank",rel:"noreferrer",className:"py-4 text-sm text-principal hover:text-secundario focus:text-secundario focus:outline-none flex items-center gap-2",children:[(0,o.jsx)("span",{className:"icon-mas text-lg"})," Ver condiciones generales"]}),"argentina"===(null===O||void 0===O?void 0:O.toLowerCase())&&(0,o.jsx)("p",{className:"px-10 text-center text-[11px] text-gris-medio mb-8",children:"Contratos de  Adhesi\xf3n. Ley N* 24.240 de Defensa del Consumidor."}),(0,o.jsx)(x,{ref:M,children:(0,o.jsx)(m,{producto:v})})]},t);var r}))):(0,o.jsx)("h1",{className:"max-w-screen-xl mx-auto text-2xl font-extrabold text-gris-oscuro pt-8 lg:pt-14 pb-6 px-6 2xl:px-0",children:null===S||void 0===S?void 0:S.etiquetas.Title_NoHayProductos}):(0,o.jsxs)("h1",{className:"max-w-screen-xl mx-auto text-2xl font-extrabold text-gris-oscuro pt-8 lg:pt-14 pb-6 px-6 2xl:px-0",children:[(0,o.jsx)("img",{src:"assets/images/BUSCANDO.gif",className:"flex mx-auto"}),"Buscando la mejor asistencia para tu viaje"]})})]})]})}y.getInitialProps=function(){var e=j(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,r=(0,c.jl)(n),e.abrupt("return",{initialLocation:r.location,cotizacion:r.cotizacionID});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},function(e){e.O(0,[253,573,774,888,179],(function(){return t=9406,e(e.s=t);var t}));var t=e.O();_N_E=t}]);